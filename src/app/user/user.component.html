<div style="text-align: center;background-color: green;color: white;">
    <div><h2> USER CURD OPERATIONS</h2></div>
</div>
<div style="text-align: right;">
    <button (click)="addUser()" class="btn btn-primary" 
      data-bs-toggle="modal" data-bs-target="#UserModel" type="button"><i class="bi bi-plus-square"></i>ADD</button>
</div>
<div>
    <table class="table table-bordered" >
        <thead>
            <tr>
                <th>#Id</th>
                <th>Name</th>
                <th>Email</th>
                <th>City</th>
                <th>Company</th>
                <th>Lattitude</th>
                <th colspan="2">Action(s)</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users |  paginate: { itemsPerPage: 5, currentPage: curruntPage}">
                <td>{{user.id}}</td>
                <td>{{user.name}}</td>
                <td>{{user.email}}</td>
                <td>{{user.address. city}}</td>
                <td>{{user.company.name}}</td>
                <td>{{user.address.geo.lat}}</td>
                <td>
                    <button (click)="editUser(user)" class="btn btn-success"    data-bs-toggle="modal" data-bs-target="#UserModel" type="button" 
                ><i class="bi bi-credit-card-fill"></i> </button>            
                &nbsp;                
                <button (click)="deleteUser(user.id)" type="button" class="btn btn-danger"><i class="bi bi-trash3"></i></button>
                &nbsp;
                <button type="button" [routerLink]="['/user',user.id,]"  class="btn btn-info" ><i class="bi bi-person-video2"></i></button>
               </td>              
             </tr> 
             <tr>
                <td colspan="8">
                    <pagination-controls (pageChange)=" curruntPage  = $event"></pagination-controls>
                </td>
             </tr>
                      
        </tbody>
    </table>
    
  
  <!-- Modal -->
  <div class="modal fade" id="UserModel" tabindex="-1" aria-labelledby="UserModelLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="UserModelLabel">{{modelHeader}}</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
         <form [formGroup]="UserForm">            
            <div class="mb-3">
                <input [(ngModel)]="user.id" name="id" formControlName="id" type="number"  id="id" class="form-control" placeholder="iD">
            </div>
            <div class="mb-3">
                <input [(ngModel)]="user.name" name="name" formControlName="name"  type=" text"  id="name" class="form-control" placeholder="Name">
            </div>
            <div class="mb-3">
                <input [(ngModel)]="user.email" name="email" formControlName="email" type="email"  id="email" class="form-control" placeholder="Email">
            </div>
            <div>
                <label for="Address">Address</label>
            </div>
            <div class="mb-3">
                <table style="width: 100%;">
                        <tr>
                            <td>
                                <input [(ngModel)]="user.address.street" name="street" formControlName="street" type="text" class="form-control"  placeholder="street">
                            </td>
                            <td >
                                <input  [(ngModel)]="user.address. suite" name="suite" formControlName="suite" type="text" class="form-control"  placeholder="suite" >
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input  [(ngModel)]="user.address.city" name="city" formControlName="city" type="text" class="form-control"  placeholder="city">
                            </td>
                            <td>
                                <input  [(ngModel)]="user.address.zipcode" name="zipcode" formControlName="zipcode" type="number" class="form-control"  placeholder="zipcode">                            
                            </td>
                        </tr>
                </table>
            </div>
            <div clas="mb-3">
                <table style="width: 100%;">
                        <tr>
                            <td>
                                <input [(ngModel)]="user.address.geo.lat" name="lat" formControlName="lat" type="number" class="form-control" placeholder="tattitude">
                            </td>
                            <td>
                                <input [(ngModel)]="user.address.geo.lng" name="lng" formControlName="lng" type="number" class="form-control" placeholder="langitude">
                            </td>
                        </tr>
                </table>
            </div>
            <div class="mb-3">
                <input  [(ngModel)]="user.phone" name="phone" type="text"  id="phone" formControlName="phone" class="form-control" placeholder="phone">
            </div>
            <div class="mb-3">
                <input  [(ngModel)]="user.website" name="website" formControlName="website" type="text" class="form-control"  placeholder="website">
            </div>
            <div class="mb-3">
                <table class="table table-bordered">

                        <tr>
                            <td>
                                <input  [(ngModel)]="user.company.name"  name="name" formControlName="name" type="text" class="form-control" placeholder="name">
                            </td>
                            <td>
                                 <input  [(ngModel)]="user.company.catchPhrase"  name="catchPhrase" formControlName="catchPhrase" type="text" class="form-control" placeholder="catchPhrase">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input [(ngModel)]="user.company.bs" name="bs" formControlName="bs" type="text" class="form-control"  placeholder="bs">
                            </td>
                        </tr>
                </table>
            </div>          

         </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="bi bi-door-closed-fill"></i>Close</button>
          <button (click)="saveUser()"    type="button" class="btn btn-primary"><i class="bi bi-save-fill"></i>Save changes</button>
        </div>
      </div> 
    </div>
  </div>
</div>
